generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model TestVal {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  text String
}

model User {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  email            String   @unique
  password         String
  fullName         String
  phoneNumber      String   @unique
  dateOfBirth      String
  isVerified       Boolean
  isBlocked        Boolean 
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  wallet           Wallet?  @relation(fields: [walletId], references: [id])
  walletId         String?  @db.ObjectId
  bankAccounts     BankAccount[] 
}

model Wallet {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  userId           String   @unique @db.ObjectId
  balance          Float    @default(0.0) 
  currency         String   //para birimi
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  transactions     Transaction[]
}

model Transaction {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  walletId         String   @db.ObjectId
  type             String   // para çekme yatırma transfer 
  amount           Float   
  status           String   
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  description      String?  
}
